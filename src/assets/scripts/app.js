//import imgs from "/assets/img/*.jpg"
//import images from "./img/*jpg"
const finDeViaje = {
    id: 1,
    titulo: "Fin de viaje",
    publicacion: "1915",
    resumen: "Todo empieza a principio de los 20 en Londres, siguiendo la vida de Helen Ambrose y su marido Ridley. Se están preparando para un viaje largo al extranjero, un lugar de la costa de Sudamérica. La embarcación la hacen en un barco del cuñado de Helen y también se encuentra la sobrina de Helen, Rachel, que se dirigía al Congo con su padre hasta que Helen sugiere que les acompañe en el viaje. Al padre, Willioughby Vinrace, el parece una idea estupenda para que Helen lleve a Rachel por el buen camino de las mujeres. Sin embargo, Helen, tiene otras intenciones: que sea ella misma quien encuentre su camino.",
    categoria: "Novela",
    figure: new URL("../img/FinDeViaje.jpg", import.meta.url)
}

const nocheDia = {
    id: 2,
    titulo: "Noche y día",
    publicacion: "1919",
    resumen: "Katharine Hilbery, una joven de 25 años miembro de una familia históricamente renombrada, conoce al abogado Ralph Denham, quien empieza a sentirse interesado por ella y acaba teniendo varias citas. En una reunión de universitarios, Katherine conoce a Mary Datchet, una amiga cercana de Ralph que trabaja como secretaria la oficina Suggrage en Londres. Mary empieza a plantearse sus planes de futuro tras pasar tiempo con Ralph, dándose cuenta que está enamorándose de él, mientras que Katherine comienza a ilusionarse con William Rodney, un poeta no muy apreciado por la familia de Katherine. Pero tras un viaje en navidad a los campos de Inglaterra, todo cambia.",
    categoria: "Novela",
    figure: new URL("../img/NocheYDia.jpg", import.meta.url)
}

const jardinesKew = {
    id: 3,
    titulo: "Jardines de Kew",
    publicacion: "1919",
    resumen: "La historia describe cuatro pares de personas (un matrimonio, un señor mayor con un chico joven, dos mujeres ancianas y una pareja joven) en el momento en el que ellos pasan una cama de flores en un jardin botánico en Londres. La historia de cada pareja está mostrada solo en momentos fragcionados que aportan al lector una sensación de las relaciones sin ofrecer detalles. La historia usa el imaginario de la caída de pétalos y mariposas para sugerir la inherente aleatoriedad en las decisiones que dan forma a la vida de las personas.",
    categoria: "Cuento",
    figure: new URL("../img/KewGardens.jpg", import.meta.url)
}

const lunesMartes = {
    id: 4,
    titulo: "Lunes o martes",
    publicacion: "1921",
    resumen: "Los temas de este cuento son la inseguridad, confusión y dificultad de escribir. Narrado en primera persona, después de leer la historia caes en la cuenta de que Woolf quizá esté explorando las dificultades que puedes encontrar cuando intentas escribir una historia. Hay una sensación de que el narrador está perdido entre palabras. Puede empezar describiendo a la garza de manera simple como si no hubiera nada interesante en él pero contraer problemas con la vida cotidiana a su alrededor. Es como si el narrador intentara unir fragmentos o palabras o frases que se pueden usar en una historia y usa su imaginación para tomar control de lo inesperado.",
    categoria: "Cuento",
    figure: new URL("../img/LunesOMartes.jpg", import.meta.url)
}

const cuartoJacob = {
    id: 5,
    titulo: "El cuarto de Jacob",
    publicacion: "1922",
    resumen: "La novela comienza con la niñez de Jacob y sigue su paso por la universidad de Cambridge hasta su adultez. Al principio, Jacob es un chico joven que vive en una ciudad de la costa de Scarborough consu viuda madre y sus dos hermanos. A lo largo de su vida, conoce a diversas mujeres que entablan íntimas relaciones con él pero no es hasta unos años después de terminar sus estudios universitarios, cuando viaja a Grecia, que acaba enamorandose perdidamente de un amor imposible.",
    categoria: "Novela",
    figure: new URL("../img/ElCuartoDeJacob.jpg", import.meta.url)
}

const señoraDalloway = {
    id: 6,
    titulo: "La señora Dalloway",
    publicacion: "1925",
    resumen: "La historia transcurre a lo largo de un día y una noche. Dalloway está con los preparativos para la fiesta que dará esta noche y recibe la visita de su viejo amigo Peter Walsh quien se declaró años atrás pero acabó rechazando su propuesta. Ese mismo día, Peter se va a pasear por el parque Regent. Allí coincide con Septimus Warren Smith, un veterano de la primera guerra mundial que sufre de trastorno post-traumático, y su mujer. Y así continuan sucediendo una serie de encuentros y coincidencias que acabarán plasmándose en la fiesta de Dalloway.",
    categoria: "Novela",
    figure: new URL("../img/LaSeñoraDalloway.jpg", import.meta.url)
}

const lectorComun = {
    id: 7,
    titulo: "El lector común",
    publicacion: "1925",
    resumen: "Es una famosa colección de ensayos que exploran la rica historia de la literatura y los escritores ingleses desde el periodo clásico hasta la época en la que se publicó el libro. Los ensayos están colocados en orden cronológico pero no hay razón por la que haya que leerlos en ese orden. Se escribieron en épocas muy diferentes y para públicos diversos. Pero se dice que el espíritu que los impregna es remarcablemente consistente. Su escritura es serena, fluida, humana y claramente no académica.",
    categoria: "Ensayo",
    figure: new URL("../img/ElLectorComun.jpg", import.meta.url)
}

const alFaro = {
    id: 8,
    titulo: "Al faro",
    publicacion: "1927",
    resumen: "La familia Ramsay, un filósofo, su mujer y sus ocho hijos, se hospedan junto aun aserie de invitados en la casa de verano de la familia en Hebrides, en la isla de Cielo, justo antes de la primera guerra mundial. Al otro lado de la bahía hay un faro, el cual se convierte en una presencia prominente en la vida de la familia. A lo largo de la novela, se darán una serie de sucesos en la familia que no alcanzarán el cúlminen hasta su retorno a la casa pasados diez años.",
    categoria: "Novela",
    figure: new URL("../img/AlFaro.jpg", import.meta.url)
}

const orlando = {
    id: 9,
    titulo: "Orlando",
    publicacion: "1928",
    resumen: "Esta fantástica historia empieza con el protagonista, Orlando, un joven chico noble. Es demasiado joven para luchar pero se adentra en aventuras alrededor del mundo. A lo largo de su vida, de más de 300 años, coincide con distintos personajes bastante importantes de la época en la que se encuentra. Así, poco a poco va madurando hasta alcanzar una importante transformación en su vida que le hará replantearse diversos aspectos de la cotidianidad en la vida de las personas.",
    categoria: "Biografía",
    figure: new URL("../img/Orlando.jpg", import.meta.url)
}

const habitacionPropia = {
    id: 10,
    titulo: "Una habitación propia",
    publicacion: "1929",
    resumen: "Este trabajo se basó en dos lecturas dadas por Woolf en 1928 en las facultades Newnham y Girton, las dos primeras facultades para mujeres de Cambridge. En este famoso ensayo, Woolf se dirige al estatus de las mujeres, y mujeres artistas en particular, afirmando que una mujer debe tener dinero y una habitación propia si ella quiere escribir. De acuerdo con este pensamiento, siglos de prejuicios y desventajas financieras y educativas han inhibido la creatividad de las mujeres. Para hacer una ilustración de todo esto, ofrece el ejemplo de una hipotética dotada pero analfabeta hermana de William Shakespeare, quien, desanimada por las tareas domésticas más mundanas, acabaría suididándose. Además, celebra el trabajo de aquellas mujeres que han superado esa tradición y se han convertido en escritoras, como Jane Austen, George Eliot y las hermanas Brontë, Anne, Charlotte y Emily.",
    categoria: "Ensayo",
    figure: new URL("../img/UnaHabitacionPropia.jpg", import.meta.url)
}

const deLaEnfermedad = {
    id: 11,
    titulo: "De la enfermedad",
    publicacion: "1930",
    resumen: "Woolf se preocupa de por qué la enfermedad “no ha tomado su lugar con el amor y la batalla y la envidia entre los primeros temas de literatura”. Después de todo, la enfermedad es una experiencia personal que consume y nos proporciona un gran “cambio espiritual”. ¿Por qué sólo se escribe sobre la mente y las ideas? ¿Por qué no sobre el cuerpo? Woolf nos nos transporta a la experiencia de estar tumbado en la cama enfermos, el mundo parece distinto, siente distinto y es distinto. “Sólo el recostado es quien sabe que, después de todo, la naturaleza no se esfuerza en ocultar que al final ella conquistará”. Al final de este corto ensayo, discute cuánto cambia la enfermedad nuestros hábitos de lectura. Nos pasamos a la poesía, en vez de a la prosa.",
    categoria: "Ensayo",
    figure: new URL("../img/DeLaEnfermedad.jpg", import.meta.url)
}

const lasOlas = {
    id: 12,
    titulo: "Las olas",
    publicacion: "1931",
    resumen: "El principio de la novela lidia con una temprana mañana y niñez, con seis protagonistas asistiendo a clase. El lector está enterado del pensamiento interno de cada uno de los niños. De esta manera, te identificas con alguno de los personajes en su propio monólogo así como en su presencia en el mundo e interacciones con el resto. Seguidamente, los niños y niñas, tras una breve maduración, son separados en colegios según su sexo y comienzan a realizar juicios respecto a los nuevos roles que cada se les ha impuesto a cada uno de ellos.",
    categoria: "Novela",
    figure: new URL("../img/LasOlas.jpg", import.meta.url)
}

const paseosLondres = {
    id: 13,
    titulo: "Paseos por Londres",
    publicacion: "1931",
    resumen: "Paseos por Londres es una colección corta de seis ensayos escritos para la revista Good Housekeeping en 1931. Cada ensayo retrata un área particular de la vida de Londres en los años 30. Leyendo estos ensayos, se muestra claramente que Virginia Woolf tuvo un gran aprecio por Londres y que escribe sobre esto con amabilidad y cariño, pintando una imagen vívida mientras da vida al Londres de los años 30.",
    categoria: "Ensayo",
    figure: new URL("../img/PaseosPorLondres.jpg", import.meta.url)
}

const Flush = {
    id: 14,
    titulo: "Flush",
    publicacion: "1933",
    resumen: "Flush es un cocker spaniel rojo cuyo dueño fue la poetisa inglesa Elizabeth Barrett Browning. La narrativa comienza con una breve historia del cocker spaniel. Flush empieza su vida en una granja llamada Three Mile Cross. Amaba correr libre por los cambos y perseguir conejos y pájaros. Pero todo cambió cuando su dueña se lo dio a un amiga inválida, la famosa poetisa Elizabeth Barrett Browning. Después de mudarse al barrio pijo de Wimpole Street en Londres, la vida de Flush fue encerrarse en la habitación oscura de Barret. Así aceptó su nueva postura como acompañante de la amable y blanca señorita que sufría una enfermedad.",
    categoria: "Biografía",
    figure: new URL("../img/Flush.jpg", import.meta.url)
}

const losAños = {
    id: 15,
    titulo: "Los años",
    publicacion: "1937",
    resumen: "Eleanor Pargiter, justo entrada en la veintena, en la primavera de Londres de 1880 proviene de una gran familia de la cual cuida. Su madre está enferma terminal y su padre, el coronel, es un veterano de guerra que pasa poco tiempo en casa dejando a Eleanor a cargo de sus hermanos: Delia, Edward, Martin, Milly, Morris y Rose. A lo largo de los años, se ve afectada la vida de cada uno de ellos tras los acontecimientos que viven en casa y van descubriendo lo distintas que se convierten sus vidas: algunos formando su propia familia y otros cuidando a aquella familia a la que siempre han pertenecido.",
    categoria: "Novela",
    figure: new URL("../img/LosAños.jpg", import.meta.url)
}

const tresGuineas = {
    id: 16,
    titulo: "Tres guineas",
    publicacion: "1938",
    resumen: "Tres guineas es un intento exhaustivo de teorizar el significado del género para el fascismo. El análisis del fascismo se centra en la relación patrialcal entre los hombres y las mujeres, y discute que la distribución desigual del poder entre géneros es un elemento clave para la producción del fascismo. En este ensayo, no se trata al fascismo como un tipo de aberración extrema sino como la consecuencia del sistema patrialcal de sexo-género. En vez de hablar acerca de aquellos  paises que estaban experimentando las reglas del fascismo en los años 30, Woolf examina Inglaterra, un pais democrático, y muestra que las mujeres son sistemáticamente excluídas de las posiciones públicas de prestigio y poder, excluídas de todas las posiciones que les permitieran tener una intervención política real, haciendo que ese país esté lejos de ser democrático para las mujeres.",
    categoria: "Ensayo",
    figure: new URL("../img/TresGuineas.jpg", import.meta.url)
}

const rogerFry = {
    id: 17,
    titulo: "Roger Fry: una biografía",
    publicacion: "1940",
    resumen: "Fry fue un artista inglés y académico, un conservador del museo metropolitano de arte en Nueva York y profesor de arte Slade en Cambridge. Se le acuña el término “post-impresionismo” y lo introdujo en Inglaterra con sus principales artistas en dos exposiciones en Londres. Trabajó con Clive Bell en el desarrollo de una nueva teoría del arte –el formalismo- para justificar el postimpresionismo y, sobre todo, fundó y dirigió los talleres Omega cuya artesanía decorativa ayudó a curar el diseño de interiores de Inglaterra de la “erupción eczemática” del ornamen victoriano.",
    categoria: "Biografía",
    figure: new URL("../img/RogerFry.jpg", import.meta.url)
}

const entreActos = {
    id: 18,
    titulo: "Entre actos",
    publicacion: "1941",
    resumen: "Una tarde de Junio de 1939, mientras la Segunda Guerra Mundial se intensifica en el continente europeo, en un pueblo estatal llamado Pointz Hall se celebra la producción de un desfile anual y un juego que los lugareños celebran en la finca. La novela centra su narrativa en desarrollar temas como la fantasía, distracción y trivialidad en tiempos de crisis. Un viudo veterano de la guerra que intentó sofocar las revueltas en la Indica colonial, su hermana aportando levedad en los procedimientos y su hijo recuperándose de la pérdida de su trabajo y con una dificil relación con su mujer son algunas de las historias que dan vida a esta novela.",
    categoria: "Novela",
    figure: new URL("../img/EntreActos.jpg", import.meta.url)
}

const detalles = new URL("../../views/detalle.html", import.meta.url);

const libros = [finDeViaje, nocheDia, jardinesKew, lunesMartes, cuartoJacob, señoraDalloway, lectorComun, alFaro, 
    orlando, habitacionPropia, deLaEnfermedad, lasOlas, paseosLondres, Flush, losAños, tresGuineas, rogerFry, entreActos]

let novelas = [];
let biografias = [];
let ensayos = [];
let cuentos = [];

for(let i = 0; i < 18; i ++){
    let libro = libros[i];
    switch(libro.categoria){
        case 'Novela':
            novelas.push(libro);
            break;
        case 'Biografía':
            biografias.push(libro);
            break;
        case 'Ensayo':
            ensayos.push(libro);
            break;
        case 'Cuento':
            cuentos.push(libro);
            break;
    }
}

if(window.location.href.includes("categoria")){
    for (let i = 0; i < 18; i ++) {
        let libro = libros[i];
        let firstDiv = document.createElement('div');
        firstDiv.className = libro.categoria;
    
        let figure = document.createElement("figure");
        let img = document.createElement("img");
        img.src = libros[i].figure.toString();
        figure.appendChild(img);
        firstDiv.appendChild(figure);
    
        let secondDiv = document.createElement('div');
        let title = document.createElement('h2');
        title.innerText = libro.titulo;
        secondDiv.appendChild(title);
    
        let publi = document.createElement('p');
        publi.innerText = "Publicado: " + libro.publicacion;
        secondDiv.appendChild(publi);
    
        let boton = document.createElement('button');
        boton.className = "Navigate";
        boton.id = String(libro.id);
        boton.innerText = "Ver libro";
        secondDiv.appendChild(boton);
        firstDiv.appendChild(secondDiv);
    
        document.getElementsByClassName("categoria")[0].appendChild(firstDiv);
    }
    let cat = localStorage.getItem('categoria');
    if(cat !== null){
        boton(cat);
    }

    let todos = document.getElementById('todos');
    let novelas = document.getElementById('novelas');
    let ensayos = document.getElementById('ensayos');
    let cuentos = document.getElementById('cuentos');
    let biografias = document.getElementById('biografías');

    todos.onclick = function() {boton('todos')}
    novelas.onclick = function() {boton('Novela')}
    ensayos.onclick = function() {boton('Ensayo')}
    cuentos.onclick = function() {boton('Cuento')}
    biografias.onclick = function() {boton('Biografía')}

    let botonNavigate = document.getElementsByClassName('Navigate');

    for(let i = 0; i < botonNavigate.length; i ++){
        // @ts-ignore
        botonNavigate[i].onclick = function() {navigation(String(detalles), botonNavigate[i].id, cat)}
    }
}

if(window.location.href.includes("detalle")){
    let id = localStorage.getItem("id");
    let cat = localStorage.getItem("categoria");
    let libro = libros[Number(id) - 1];

    let informacion = document.createElement('div');
    informacion.className = "informacion";

    let figure = document.createElement('figure');
    let img = document.createElement('img');
    img.src = String(libro.figure);
    figure.appendChild(img);
    informacion.appendChild(figure);

    let centro = document.createElement('div');
    centro.className = "centro";

    let titulo = document.createElement('h1');
    titulo.innerHTML = libro.titulo;
    centro.appendChild(titulo);

    let catBoton = document.createElement('button');
    catBoton.className = "botonCategoria";
    catBoton.innerHTML = libro.categoria;
    catBoton.onclick = function() {navigation("../../views/categoria.html", id, libro.categoria)}
    centro.appendChild(catBoton);

    let resumen = document.createElement('h3');
    resumen.innerHTML = "Resumen:";
    centro.appendChild(resumen);
    let p = document.createElement('p');
    p.innerHTML = libro.resumen;
    centro.appendChild(p);

    let publicacion = document.createElement('h3');
    publicacion.innerHTML = "Fecha de publicación:";
    centro.appendChild(publicacion);
    let pFecha = document.createElement('p');
    pFecha.innerHTML = libro.publicacion;
    centro.appendChild(pFecha);
    informacion.appendChild(centro);

    let derecha = document.createElement('div');
    derecha.className = "derecha";

    let otras = document.createElement('h3');
    otras.innerHTML = otros(libro.categoria).titulo;
    derecha.appendChild(otras);

    let ulOtros = document.createElement('ul');
    let listado = otros(libro.categoria).listado;
    for(let j = 0; j < listado.length; j ++){
        let otroLibro = listado[j];
        if(otroLibro.id !== libro.id){
            let li = document.createElement('li');
            ulOtros.appendChild(li);

            let oFigure = document.createElement('figure');
            let oImg = document.createElement('img');
            oImg.src = otroLibro.figure.href;
            oFigure.appendChild(oImg);
            li.appendChild(oFigure);

            let libroBoton = document.createElement('button');
            libroBoton.innerHTML = "Ver libro";
            libroBoton.className = "libroBoton";
            libroBoton.onclick = function() {navigation('', otroLibro.id, cat)}
            li.appendChild(libroBoton);
        }
    }
    derecha.appendChild(ulOtros);
    informacion.appendChild(derecha);
    document.getElementById('detalle').appendChild(informacion);
    document.getElementById('title').innerText = libro.titulo;
}

function boton(categoria){
    localStorage.setItem("categoria", categoria);
    switch(categoria){
        case 'todos':
            displayCategory('Novela', 'flex');
            displayCategory('Ensayo', 'flex');
            displayCategory('Cuento', 'flex');
            displayCategory('Biografía', 'flex');
            break;
        case 'Novela':
            displayCategory('Novela', 'flex');
            displayCategory('Ensayo', 'none');
            displayCategory('Cuento', 'none');
            displayCategory('Biografía', 'none');
            break;
        case 'Ensayo':
            displayCategory('Novela', 'none');
            displayCategory('Ensayo', 'flex');
            displayCategory('Cuento', 'none');
            displayCategory('Biografía', 'none');
            break;
        case 'Cuento':
            displayCategory('Ensayo', 'none');
            displayCategory('Novela', 'none');
            displayCategory('Cuento', 'flex');
            displayCategory('Biografía', 'none');
            break;
        case 'Biografía':
            displayCategory('Ensayo', 'none');
            displayCategory('Cuento', 'none');
            displayCategory('Novela', 'none');
            displayCategory('Biografía', 'flex');
            break;
    }

}

function displayCategory(categoria, display){
    let listado = document.getElementsByClassName(categoria);
    for(let i = 0; i < listado.length; i ++){
        // @ts-ignore
        document.getElementsByClassName(categoria)[i].style.display = display;
    }
}

function navigation(href, id, categoria){
    window.location.href = href;
    localStorage.setItem("id", id);
    localStorage.setItem("categoria", categoria);
}

function otros(categoria){
    switch(categoria){
        case 'Novela':
            return {titulo: "Otras novelas de la autora:", listado: novelas};
        case 'Ensayo':
            return {titulo: "Otros ensayos de la autora:", listado: ensayos};
        case 'Cuento':
            return {titulo: "Otros cuentos de la autora:", listado: cuentos};
        case 'Biografía':
            return {titulo: "Otras biografías de la autora:", listado: biografias};
    }
}